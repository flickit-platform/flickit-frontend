import React from "react";
import { IDynamicGaugeSVGProps } from "@/types/index";
import "./style.css";

const BASE_1 =
  "M9.67745 155.846C7.57643 156.529 5.3128 155.38 4.70049 153.257C-2.9947 126.581 -1.19998 98.0552 9.77789 72.5542C10.6514 70.5251 13.0412 69.669 15.0401 70.6096L34.9463 79.9767C36.9451 80.9173 37.7941 83.2974 36.9432 85.3361C29.187 103.919 27.8876 124.572 33.2536 143.981C33.8423 146.11 32.7017 148.365 30.6007 149.048L9.67745 155.846Z";
const BASE_2 =
  "M15.0774 70.5303C13.0792 69.5882 12.2174 67.2004 13.2255 65.2348C25.8955 40.5309 46.7459 20.9806 72.2133 9.92526C74.2398 9.04559 76.5671 10.0592 77.3788 12.1138L85.4621 32.575C86.2738 34.6296 85.2617 36.945 83.2451 37.8471C64.8643 46.07 49.768 60.2249 40.3803 78.0391C39.3504 79.9934 36.9747 80.8546 34.9765 79.9125L15.0774 70.5303Z";
const BASE_3 =
  "M77.4245 12.0957C76.6137 10.0408 77.621 7.71065 79.7018 6.96873C105.853 -2.35545 134.435 -2.32184 160.564 7.06381C162.643 7.81063 163.645 10.1431 162.829 12.1962L154.706 32.6417C153.891 34.6948 151.567 35.6888 149.48 34.9651C130.455 28.3687 109.761 28.3444 90.7199 34.896C88.6309 35.6148 86.31 34.6153 85.4992 32.5603L77.4245 12.0957Z";
const BASE_4 =
  "M162.879 12.2159C163.695 10.1633 166.025 9.15525 168.05 10.0398C193.49 21.1559 214.294 40.7559 226.905 65.49C227.908 67.4581 227.041 69.8437 225.04 70.7811L205.119 80.1157C203.119 81.053 200.745 80.1862 199.72 78.2294C190.375 60.3929 175.312 46.2019 156.951 37.9352C154.937 37.0282 153.93 34.7104 154.747 32.6577L162.879 12.2159Z";
const BASE_5 =
  "M225.132 70.9763C227.134 70.0427 229.521 70.9071 230.387 72.9393C241.276 98.4784 242.971 127.01 235.183 153.659C234.563 155.78 232.295 156.921 230.197 156.231L209.297 149.359C207.199 148.669 206.066 146.41 206.662 144.283C212.096 124.894 210.869 104.236 203.177 85.6263C202.333 83.5846 203.191 81.2075 205.193 80.2739L225.132 70.9763Z";

const ARROW_1 =
  "M10.8097 114.353L122.905 120.548C127.228 120.786 130.447 124.632 129.921 128.93C129.395 133.227 125.344 136.183 121.091 135.373L10.8097 114.353Z";
const ARROW_2 =
  "M46.2924 46.248L126.945 124.343C130.056 127.355 129.969 132.369 126.758 135.272C123.546 138.176 118.548 137.756 115.865 134.358L46.2924 46.248Z";
const ARROW_3 =
  "M120 17.999L127.468 130.017C127.756 134.337 124.329 137.999 120 137.999C115.671 137.999 112.244 134.337 112.532 130.017L120 17.999Z";
const ARROW_4 =
  "M190.686 43.8962L124.288 134.423C121.728 137.914 116.748 138.511 113.435 135.724C110.122 132.936 109.858 127.928 112.859 124.808L190.686 43.8962Z";
const ARROW_5 =
  "M228.899 114.633L118.626 135.696C114.374 136.509 110.321 133.554 109.793 129.257C109.266 124.96 112.483 121.113 116.806 120.872L228.899 114.633Z";

const clamp15 = (n: number) => Math.max(1, Math.min(5, n));

const GaugeComponent5: React.FC<IDynamicGaugeSVGProps> = ({
  value = 1,
  height = 157,
  className,
  colorPallet,
}) => {
  const v = clamp15(Math.round(Number(value) || 1));
  const INDICATOR_D =
    v === 1
      ? ARROW_1
      : v === 2
        ? ARROW_2
        : v === 3
          ? ARROW_3
          : v === 4
            ? ARROW_4
            : ARROW_5;

  return (
    <svg
      width="100%"
      height={height}
      viewBox="0 0 240 157"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      aria-label={`gauge-${v}`}
      role="img"
    >
      <path d={BASE_1} fill={colorPallet[0]} />
      <path d={BASE_2} fill={colorPallet[1]} />
      <path d={BASE_3} fill={colorPallet[2]} />
      <path d={BASE_4} fill={colorPallet[3]} />
      <path d={BASE_5} fill={colorPallet[4]} />

      <path d={INDICATOR_D} fill="#2466A8" />
    </svg>
  );
};

export default GaugeComponent5;
