import React from "react";
import { IDynamicGaugeSVGProps } from "@/types/index";
import "./style.css";

const BASE_PATHS = [
  "M9.67745 155.846C7.57643 156.529 5.31302 155.38 4.70076 153.258C1.25363 141.307 -0.314646 128.893 0.0522005 116.461C0.117358 114.253 2.02412 112.578 4.2289 112.716L26.1855 114.098C28.3903 114.236 30.0558 116.137 30.0152 118.345C29.856 127.002 30.9468 135.636 33.2538 143.981C33.8424 146.11 32.7017 148.365 30.6007 149.048L9.67745 155.846Z",
  "M4.21923 112.872C2.01427 112.736 0.329928 110.837 0.539092 108.638C1.71672 96.2562 4.81227 84.1323 9.71468 72.7015C10.5854 70.6712 12.9737 69.8125 14.9739 70.7505L34.8926 80.0909C36.8928 81.0288 37.7451 83.4075 36.897 85.4473C33.573 93.4418 31.42 101.874 30.5045 110.484C30.2709 112.68 28.3826 114.359 26.1777 114.224L4.21923 112.872Z",
  "M14.8622 70.9894C12.8599 70.0561 11.9873 67.6728 12.9869 65.7027C18.6147 54.611 25.9329 44.4614 34.6789 35.618C36.2323 34.0473 38.7692 34.1224 40.2873 35.7273L55.4052 51.7101C56.9233 53.315 56.8458 55.8406 55.31 57.4284C49.2906 63.6516 44.2006 70.7109 40.1976 78.3878C39.1762 80.3466 36.8044 81.2179 34.8021 80.2845L14.8622 70.9894Z",
  "M40.0783 35.9255C38.5562 34.3244 38.6159 31.7871 40.2669 30.3193C49.5622 22.055 60.086 15.286 71.4609 10.255C73.4812 9.36147 75.8148 10.3594 76.6406 12.4084L84.8639 32.8137C85.6897 34.8627 84.6937 37.1849 82.6834 38.1009C74.8047 41.6907 67.4851 46.3987 60.9512 52.0792C59.284 53.5286 56.7579 53.4718 55.2358 51.8707L40.0783 35.9255Z",
  "M76.5764 12.4342C75.7495 10.3857 76.7376 8.04801 78.8126 7.28977C90.4948 3.02074 102.77 0.593838 115.198 0.0961197C117.405 0.0077177 119.209 1.79351 119.223 4.0026L119.371 26.0021C119.386 28.2112 117.606 30.0047 115.399 30.1177C106.753 30.5602 98.2151 32.2482 90.0506 35.1293C87.9673 35.8645 85.6389 34.8832 84.8119 32.8346L76.5764 12.4342Z",
  "M119.061 4.0038C119.043 1.79474 120.82 -0.0175355 123.028 0.0382058C135.462 0.352038 147.772 2.5971 159.516 6.69284C161.602 7.42031 162.624 9.74314 161.828 11.8037L153.895 32.3237C153.098 34.3842 150.785 35.3998 148.691 34.6956C140.484 31.9356 131.923 30.3741 123.271 30.0594C121.063 29.9792 119.257 28.2121 119.239 26.0031L119.061 4.0038Z",
  "M161.717 11.7609C162.511 9.69954 164.829 8.66624 166.863 9.52897C178.313 14.3862 188.939 20.9943 198.359 29.1161C200.032 30.5586 200.13 33.0947 198.633 34.7188L183.72 50.8928C182.222 52.5169 179.697 52.6121 178.008 51.1883C171.389 45.6079 163.998 41.0118 156.066 37.5424C154.042 36.6571 153.011 34.3503 153.805 32.289L161.717 11.7609Z",
  "M198.434 34.5357C199.928 32.9081 202.463 32.7948 204.04 34.342C212.918 43.0525 220.389 53.0907 226.183 64.0964C227.212 66.0512 226.375 68.4473 224.387 69.4107L204.59 79.0053C202.602 79.9687 200.217 79.1332 199.166 77.19C195.048 69.5743 189.852 62.5925 183.74 56.4608C182.18 54.8962 182.065 52.3721 183.558 50.7445L198.434 34.5357Z",
  "M224.585 69.8206C226.577 68.865 228.973 69.7024 229.861 71.7249C234.865 83.1118 238.068 95.2077 239.355 107.579C239.584 109.776 237.917 111.689 235.713 111.845L213.767 113.391C211.564 113.547 209.661 111.885 209.408 109.69C208.416 101.089 206.188 92.676 202.793 84.7114C201.927 82.6791 202.758 80.293 204.75 79.3374L224.585 69.8206Z",
  "M235.717 111.909C237.921 111.755 239.84 113.416 239.92 115.624C240.374 128.053 238.892 140.478 235.529 152.452C234.931 154.579 232.676 155.743 230.57 155.075L209.6 148.423C207.494 147.755 206.338 145.508 206.911 143.375C209.16 135.014 210.191 126.373 209.971 117.718C209.915 115.509 211.567 113.597 213.771 113.443L235.717 111.909Z",
];

const BASE_COLORS = [
  "#821717",
  "#9B4545",
  "#B47474",
  "#CDA2A2",
  "#E6D1D1",
  "#D1E6D8",
  "#A2CDB1",
  "#74B489",
  "#459B62",
  "#17823B",
];

const POINTERS = [
  "",
  "M10.0372 131.531L121.726 120.159C126.033 119.72 129.813 123.016 129.964 127.343C130.115 131.67 126.575 135.222 122.247 135.085L10.0372 131.531Z",
  "M15.5194 93.4029L124.268 121.284C128.462 122.359 130.872 126.758 129.52 130.871C128.168 134.984 123.619 137.095 119.605 135.473L15.5194 93.4029Z",
  "M34.2164 59.0224L126.292 123.255C129.843 125.732 130.557 130.696 127.85 134.075C125.142 137.453 120.141 137.836 116.951 134.909L34.2164 59.0224Z",
  "M65.0473 32.6367L127.524 125.913C129.933 129.51 128.797 134.395 125.047 136.56C121.298 138.725 116.499 137.266 114.589 133.381L65.0473 32.6367Z",
  "M101.92 19.4707L127.718 128.733C128.713 132.946 125.936 137.123 121.666 137.835C117.395 138.547 113.413 135.499 112.986 131.19L101.92 19.4707Z",
  "M139.866 19.8414L126.951 131.362C126.453 135.663 122.421 138.645 118.163 137.862C113.905 137.079 111.197 132.858 112.262 128.661L139.866 19.8414Z",
  "M174.909 32.8008L125.367 133.545C123.457 137.43 118.658 138.889 114.909 136.724C111.159 134.559 110.023 129.674 112.432 126.077L174.909 32.8008Z",
  "M204.579 57.9455L123.041 135.116C119.896 138.092 114.89 137.787 112.13 134.452C109.37 131.116 110.007 126.142 113.519 123.609L204.579 57.9455Z",
  "M223.726 92.1345L120.291 135.779C116.302 137.462 111.721 135.42 110.307 131.328C108.893 127.236 111.235 122.801 115.412 121.662L223.726 92.1345Z",
  "M229.625 131.859L117.415 135.413C113.088 135.55 109.547 131.998 109.698 127.671C109.849 123.345 113.629 120.048 117.936 120.487L229.625 131.859Z",
];

const clamp10 = (n: number) => Math.max(1, Math.min(10, n));

const GaugeComponent10: React.FC<IDynamicGaugeSVGProps> = ({
  value = 1,
  height = 157,
  className,
  colorPallet,
}) => {
  const v = clamp10(Math.round(Number(value) || 1));

  return (
    <svg
      width="100%"
      height={height}
      viewBox="0 0 240 157"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      role="img"
      aria-label={`gauge-${v}`}
    >
      {BASE_PATHS.map((d, i) => (
        <path key={i} d={d} fill={colorPallet[i]} />
      ))}

      <path d={POINTERS[v]} fill="#2466A8" />
    </svg>
  );
};

export default GaugeComponent10;
