import React from "react";
import { IDynamicGaugeSVGProps } from "@/types/index";
import "./style.css";

const BASE_1 =
  "M9.67745 155.846C7.57643 156.529 5.31302 155.38 4.70075 153.258C-0.504531 135.212 -1.40135 116.196 2.08261 97.7403C2.49241 95.5695 4.63772 94.2135 6.79365 94.6954L28.2638 99.4945C30.4198 99.9764 31.7675 102.114 31.3819 104.289C29.0408 117.493 29.6804 131.055 33.2537 143.981C33.8424 146.11 32.7017 148.365 30.6007 149.048L9.67745 155.846Z";
const BASE_2 =
  "M6.92364 94.1207C4.77018 93.6279 3.41733 91.4805 3.98166 89.3447C8.77942 71.1867 17.7732 54.407 30.238 40.3584C31.7042 38.7059 34.2414 38.6436 35.8441 40.1641L51.8047 55.3054C53.4074 56.8258 53.4666 59.352 52.0189 61.0206C43.2307 71.15 36.8167 83.1165 33.2471 96.043C32.6591 98.1724 30.5226 99.5217 28.3692 99.0288L6.92364 94.1207Z";
const BASE_3 =
  "M36.1129 39.8816C34.5153 38.3558 34.4525 35.8186 36.0307 34.2728C49.4478 21.1306 65.7638 11.3207 83.6634 5.6337C85.7688 4.96477 87.9802 6.21014 88.5786 8.33669L94.5378 29.5142C95.1362 31.6408 93.8939 33.8411 91.796 34.5334C79.0611 38.7358 67.4253 45.7319 57.7414 55.0087C56.1461 56.5369 53.6201 56.6023 52.0225 55.0765L36.1129 39.8816Z";
const BASE_4 =
  "M89.1763 8.17021C88.5893 6.04049 89.8386 3.83128 91.9867 3.31556C110.249 -1.06889 129.287 -1.10538 147.566 3.20902C149.716 3.7165 150.974 5.9209 150.395 8.05286L144.63 29.2842C144.051 31.4162 141.855 32.666 139.7 32.1824C126.615 29.247 113.038 29.2731 99.9638 32.2586C97.8101 32.7504 95.6092 31.509 95.0222 29.3793L89.1763 8.17021Z";
const BASE_5 =
  "M150.935 8.20098C151.524 6.07185 153.73 4.81687 155.839 5.47662C173.763 11.0856 190.121 20.8245 203.595 33.908C205.18 35.447 205.128 37.9844 203.537 39.5171L187.694 54.7811C186.103 56.3139 183.577 56.2595 181.975 54.7383C172.251 45.5037 160.585 38.5584 147.832 34.4115C145.731 33.7283 144.479 31.5334 145.068 29.4042L150.935 8.20098Z";
const BASE_6 =
  "M203.897 39.8918C205.495 38.3662 208.032 38.4203 209.504 40.068C222.014 54.0761 231.062 70.8267 235.918 88.9691C236.49 91.1031 235.144 93.2548 232.992 93.7546L211.562 98.7322C209.411 99.232 207.27 97.8896 206.675 95.7621C203.063 82.8472 196.611 70.9015 187.79 60.8007C186.337 59.1367 186.388 56.6104 187.985 55.0848L203.897 39.8918Z";
const BASE_7 =
  "M233.156 94.4691C235.311 93.9829 237.459 95.3347 237.873 97.5047C241.393 115.953 240.535 134.972 235.366 153.027C234.757 155.151 232.496 156.304 230.394 155.625L209.457 148.869C207.355 148.19 206.21 145.938 206.794 143.807C210.342 130.875 210.954 117.312 208.587 104.112C208.197 101.938 209.54 99.7974 211.695 99.3112L233.156 94.4691Z";

const ARROWS = [
  "",
  "M7.97322 124.263L120.229 122.721C124.558 122.661 128.034 126.276 127.806 130.6C127.577 134.923 123.739 138.151 119.44 137.636L7.97322 124.263Z",
  "M25.1158 70.3343L123.844 123.781C127.651 125.842 128.921 130.694 126.611 134.356C124.301 138.018 119.375 138.962 115.875 136.414L25.1158 70.3343Z",
  "M67.5036 31.0415L126.522 126.543C128.798 130.226 127.484 135.066 123.658 137.092C119.832 139.118 115.09 137.485 113.323 133.532L67.5036 31.0415Z",
  "M120 17.999L127.468 130.017C127.756 134.337 124.329 137.999 120 137.999C115.671 137.999 112.244 134.337 112.532 130.017L120 17.999Z",
  "M173.243 31.4363L126.654 133.579C124.857 137.519 120.103 139.116 116.292 137.061C112.482 135.007 111.204 130.157 113.507 126.491L173.243 31.4363Z",
  "M213.266 67.8333L124.292 136.297C120.861 138.937 115.912 138.124 113.506 134.525C111.099 130.926 112.24 126.042 115.991 123.88L213.266 67.8333Z",
  "M232.069 125L120.515 137.634C116.214 138.121 112.397 134.868 112.197 130.543C111.997 126.218 115.497 122.626 119.826 122.714L232.069 125Z",
];

const clamp = (n: number) => Math.max(1, Math.min(7, n));

const GaugeComponent7: React.FC<IDynamicGaugeSVGProps> = ({
  value = 1,
  height = 157,
  className,
  colorPallet,
}) => {
  const v = clamp(Math.round(Number(value) || 1));
  return (
    <svg
      width="100%"
      height={height}
      viewBox="0 0 240 157"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      aria-label={`gauge-${v}`}
      role="img"
    >
      <path d={BASE_1} fill={colorPallet[0]} />
      <path d={BASE_2} fill={colorPallet[1]} />
      <path d={BASE_3} fill={colorPallet[2]} />
      <path d={BASE_4} fill={colorPallet[3]} />
      <path d={BASE_5} fill={colorPallet[4]} />
      <path d={BASE_6} fill={colorPallet[5]} />
      <path d={BASE_7} fill={colorPallet[6]} />
      <path d={ARROWS[v]} fill="#2466A8" />
    </svg>
  );
};

export default GaugeComponent7;
